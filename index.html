<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter Ã  l'Agenda</title>
    <script>
        function redirectToCalendar() {
            let eventTitle = encodeURIComponent("Anniversaire Arno");
            let eventDetails = encodeURIComponent("Venez fÃªter comme il se doit mes 20 ans !");
            let eventLocation = encodeURIComponent("407 La Flandrine, 01240 Dompierre-sur-Veyle");
            
            // Correction de l'heure (UTC)
            let startDate = "20250322T170000Z"; // 22 mars 17h UTC
            let endDate = "20250323T030000Z";   // 23 mars 3h UTC

            // Liens pour chaque service
            let googleLink = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${eventTitle}&dates=${startDate}/${endDate}&details=${eventDetails}&location=${eventLocation}`;
            let outlookLink = `https://outlook.live.com/calendar/0/deeplink/compose?subject=${eventTitle}&startdt=2025-03-22T17:00:00&enddt=2025-03-23T03:00:00&body=${eventDetails}&location=${eventLocation}`;
            let icsFile = "https://drive.google.com/uc?export=download&id=1c2zPzZagmZLxyssPqYmDVZFH5cmqAkHh"; // Lien Google Drive vers le .ics

            setTimeout(() => {
                if (navigator.userAgent.includes("iPhone") || navigator.userAgent.includes("iPad") || navigator.userAgent.includes("Mac OS")) {
                    window.location.replace(icsFile); // Apple Calendrier
                } else if (navigator.userAgent.includes("Android") || navigator.userAgent.includes("Windows")) {
                    window.location.replace(googleLink); // Google Agenda
                } else {
                    document.getElementById("options").style.display = "block";
                }
            }, 500); // Petit dÃ©lai pour Ã©viter les blocages navigateurs
        }
    </script>
</head>
<body onload="redirectToCalendar()">
    <h1>Ajouter l'Ã©vÃ©nement Ã  votre agenda ðŸŽ‰</h1>
    <p>Si la redirection automatique ne fonctionne pas, utilisez les boutons ci-dessous :</p>

    <div id="options" style="display: block;">
        <button onclick="window.location.href='https://calendar.google.com/calendar/render?action=TEMPLATE&text=Anniversaire%20Arno&dates=20250322T170000Z/20250323T030000Z&details=Venez%20fÃªter%20comme%20il%20se%20doit%20mes%2020%20ans!&location=407%20La%20Flandrine,%2001240%20Dompierre-sur-Veyle'">
            ðŸ“… Ajouter Ã  Google Agenda
        </button>
        <button onclick="window.location.href='https://outlook.live.com/calendar/0/deeplink/compose?subject=Anniversaire%20Arno&startdt=2025-03-22T17:00:00&enddt=2025-03-23T03:00:00&body=Venez%20fÃªter%20comme%20il%20se%20doit%20mes%2020%20ans!&location=407%20La%20Flandrine,%2001240%20Dompierre-sur-Veyle'">
            ðŸ“§ Ajouter Ã  Outlook
        </button>
        <button onclick="window.location.href='https://drive.google.com/uc?export=download&id=1c2zPzZagmZLxyssPqYmDVZFH5cmqAkHh'">
            ðŸ“¥ TÃ©lÃ©charger le fichier .ICS
        </button>
    </div>
</body>
</html>
